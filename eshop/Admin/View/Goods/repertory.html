<layout name="Index/header_foot"/>
<br>
<form method="post" action="" name="listForm">
       <div class="list-div" id="listDiv">
             <table width="100%" cellspacing="1" cellpadding="2" id="list-table">
                    <tr>
                          <th>添加</th>      
                          <foreach name="attr_name" item="val">
                          <th>{$val}</th>
                          </foreach>
                          <th>数量</th>
                    </tr>
                    <input type="hidden" name="goods_id" value="{$goods_id}">
                    
            
                    <tr align="center" class="0" id="0_1" id = 'tr_1' hand="0">
                          <td width="10%" align="center"><input type="button" value="+"></td>
                          <foreach name="repertoryAttr" item="val1" key="key1">
                          <td align="center">
                                <select name="goods_attr[{$key1}][]" id="">
                                             <foreach name="val1" item="val2">
                                             <option value="{$val2['id']}" >{$val2['attr_value']}</option>
                                             </foreach>
                                </select>
                          </td>
                          </foreach>
                          <td width="15%" align="center"><input name="goods_num[]" value="" type="text"></td>
                    </tr>
                    <tr><td height="30" colspan="100" align="center"><input type="submit"></td></tr>
            </table>
      </div>
 </form>
<script>

       $('input[type="button"]').click(function(){
              var tr = $(this).parent().parent();
              var tdNum =tr.children().length;
              if(tdNum>2){
                     if($(this).attr('value')=="+"){     
                            var newTr = tr.clone(true);
                            newTr.find('input[value="+"]').attr('value','-');
                            tr.after(newTr);
                     }else{
                            tr.remove();
                     }
              }
       });


</script>
